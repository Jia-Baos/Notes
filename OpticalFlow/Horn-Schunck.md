# Horn-Schunck光流

## 简介

Horn-Schunck 在光流基本约束方程的基础上附加了全局平滑假设——假设在整个图像上光流的变化是光滑的，即物体运动矢量是平滑的或只是缓慢变化的，不同物体边界处的运动矢量可能存在突变。

## 光流法的两个基本假设

1. 亮度恒定假设。即同一物体在不同帧间运动时，其内部的像素亮度不会发生改变。这是基本光流法的假定（所有光流法变种都必须满足），用于得到光流法基本方程；
2. 小位移假设。即时间的变化不会引起目标位置的剧烈变化，相邻帧之间位移要比较小（否则计算得到的将是平均速度）。同样也是光流法不可或缺的假定。

## 数学模型

给定图像序列 $I(x,y,t)$，求解光流场 $V(x,y)$，等价于求光流的两个分量 $u(x,y)$ 和 $v(x,y)$。现定义能量函数：

$E(u,v)=\iint[(I_{x}u+I_{y}v+I_{t})^2+\alpha^2({\nabla}^2 u+{\nabla}^2 v)] dxdy$

${\nabla}^2 u=\frac{{\partial}^2 u}{{\partial}^2 x} + \frac{{\partial}^2 u}{{\partial}^2 y}$，${\nabla}^2 v=\frac{{\partial}^2 v}{{\partial}^2 x} + \frac{{\partial}^2 v}{{\partial}^2 y}$

其中， $(I_{x}u+I_{y}v+I_{t})^2$是灰度变化因子（$I_{x}u+I_{y}v=-I_{t}$ 是经典的亮度不变假设），$\alpha^2({\nabla}^2 u+{\nabla}^2 v)$是平滑因子，使得光流场平滑。
