# 兼谈对象模型

## 转换函数

```C++
#include <iostream>

class Fraction
{
public:
	Fraction(int num, int den = 1)
		:m_numerator(num), m_denominator(den) {}

	operator double() const
	{
		std::cout << "Change to double..." << std::endl;
		return (double)m_numerator / m_denominator;
	};

private:
	int m_numerator;
	int m_denominator;
};

int main(int argc, char* argv[])
{
	std::cout << _MSVC_LANG << std::endl;

	Fraction f(3, 5);
	double d = 4 + f;
	std::cout << d << std::endl;

	return 0;
}
```

```C++
#include <iostream>

class Fraction
{
public:
	Fraction(int num, int den = 1)
		:m_numerator(num), m_denominator(den) {}

	Fraction operator+ (const Fraction& f)
	{
		return Fraction(this->m_numerator + this->m_denominator * f.m_numerator,
			this->m_denominator);
	}

private:
	int m_numerator;
	int m_denominator;
};

int main(int argc, char* argv[])
{
	std::cout << _MSVC_LANG << std::endl;

	Fraction f(3, 5);
	Fraction d = f + 4;

	return 0;
}

```

![000011](000011.jpg)
![000012](000012.jpg)

## 智能指针

