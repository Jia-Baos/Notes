# 数据的表示及检错纠错码

## 编码格式

- ASCII编码
- UNICODE编码
- UTF-8编码

## 原码（符号位||数的绝对值）

- $x_1 = +0.1101$ 源码表示 $0.1101000$
- $x_2 = -0.1101$ 源码表示 $1.1101000$
- $x_3 = +1101$ 源码表示 $00001110$
- $x_4 = -1101$ 源码表示 $10001110$

## 反码（符号位||数值按位求反）

- 正数的反码是绝对值原码
- 负数的反码是绝对值原码符号位之后按位求反
- $x_1 = +0.1001$ 补码表示 $0.1001000$
- $x_2 = -0.0110$ 补码表示 $1.1001000$
- $x_3 = +1010$ 补码表示 $00001010$
- $x_4 = -1101$ 补码表示 $11110010$
- 1 + (-1) = 0001 + 1110 = 1111 = -0
- 2 + (-1) = 0010 + 1110 = 1,0000 = （循环进位） 0001 = 1
- 1 + (-2) = 0001 + 1101 = 1110 = -1
- 2 + 0 = 0010 + 1111 = 1,0001 = 0010 = 2
- -1 + (-1) = 1110 + 1110 = 1,1100 = 1101 = -2

## 补码（反码的最低位+1）

- 正数的补码是绝对值原码
- 负数的补码是绝对值原码符号位之后按位求反，再在最低位加1
- $x_1 = +0.1001$ 补码表示 $0.1001000$
- $x_2 = -0.0110$ 补码表示 $1.1010000$
- $x_3 = +1010$ 补码表示 $00001010$
- $x_4 = -1101$ 补码表示 $11110011$
- 补码运算溢出位直接舍去
- [x]补 与 [-x]补：[x]补 连同符号位在内，逐位求反，再在最低为加1，即可得[-x]补
- [x]补 与 [x/2]补：原符号位不变，且符号位与数值为均右移一位
- 不同位数的整数补码相加减时，要进行符号扩展。位数少的补码数的符号位向左扩展，一直扩展到与另一数的符号位对齐
- [x+y]补 = [x]补 + [y]补
- [x-y]补 = [x]补 + [-y]补

## 原码、反码、补码

- 正数的原码、反码、补码表示均相等
- 零的原码和反码均有两个编码，补码只有一个编码
- 负数的原码、反码、补码表示均不相同

## 大端和小段

- 大端存储
  - 数据的低位保存在内存的高地址字节中
  - 数据的高位保存在内存的低地址字节中
- 小段存储
  - 数据的高位保存在内存的高地址字节中
  - 数据的低位保存在内存的低地址字节中

将32位整数“12345678”存储在内存4000起始地址

- 大端存储

    | 内存地址 | 4000 | 4001 | 4002 | 4003 |
    |:----|:----|:----|:----|:----|
    | 存放数据 | 12 | 34 | 56 | 78 |

- 小端存储

    | 内存地址 | 4000 | 4001 | 4002 | 4003 |
    |:----|:----|:----|:----|:----|
    | 存放数据 | 78 | 56 | 34 | 12 |

## 检错纠错码

- 数据或编码在存储、传输、等过程中可能出错
- 使编码具有某种特征，通过检查这种特征是否存在来判断编码是否正确
- 出错时，如果还能指出是哪位出错，则可纠正错误

## 码距

- 码距（最小码距）：是指任意两个合法码之间至少有几个二进制位不相同
- 仅有一位不同，称为最小码距为1，例如用4位二进制表示16种状态，则16种编码都用到了，此时码距为1，就是说，任何一个编码状态的四位码种的一位或几位出错，都会变成另一个合法码，此时无检错能力
- 若用4个二进制位表示8种合法状态，就可以只用其中的8个编码来表示之，而把另8种编码作为非法编码，此时可以使合法码的码距为2.如果一个码字中的任何一位出错后都会成为非法码，则它就有了发现一位出错的能力
- 合理增大码距，能提高发现错误的能力，但表示一定数量的合法码所使用的二进制位数要变多，增加了电子线路的复杂性和数据存储、输出传送的数量。
  
## 常用的检错纠错码

- 奇偶校验码（码距为2）：在k位数据码之外增加1位校验位，使k+1位码字中取值为1的位数总保持为偶数（偶校验）或奇数（奇校验）
- 汉明校验码（码距为4）：为k位数据码设立r个校验位，使k+r位的码字同时具有这样两个特征（1. 能发现并改正k+r位中任何一位出错；2. 能发现k+r位中任何两位同时出错，但以无法改正）
- 循环冗余校验码
