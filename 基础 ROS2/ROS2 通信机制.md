# ROS2 通信机制

## 话题通信机制

话题是 ROS 中最常用的通信机制，用于发布和订阅消息。通过话题，节点可以以发布-订阅的方式进行数据传输，适用于频繁且不确定时间的数据交换。

### 发布者与订阅者

发布者（Publisher）：负责将消息发布到指定的话题上。

订阅者（Subscriber）：负责订阅指定的话题，并接收该话题上的消息。

## 服务通信机制

服务是一种同步通信机制，用于请求-响应模式的通信。服务在需要明确请求和响应的情况下非常有用，例如控制命令、查询状态等。

### 服务端与客户端

服务端（Service Server）：提供服务，并处理客户端的请求。

客户端（Service Client）：发送请求到服务端，并等待响应。

## 动作通信机制

动作是一种异步通信机制，适用于长时间执行的任务。动作可以在任务执行过程中进行反馈，并且可以被取消。

### 动作服务器与动作客户端

动作服务器（Action Server）：执行任务并提供反馈。

动作客户端（Action Client）：发送任务请求并接收反馈。

## 参数管理机制

参数服务器用于存储全局参数，这些参数可以在多个节点之间共享。参数服务器通常用于配置参数，例如机器人尺寸、传感器参数等。

## 话题或服务的区别

|条目|话题|服务|
| :---- | :---- | :---- |
| 同步性 | 异步 | 同步 |
| 通信模型 | 发布/订阅 | 客户端/服务器 |
| 反馈机制 | 无 | 有 |
| 底层协议 | ROSTCP/ROSUDP | ROSTCP/ROSUDP |
| 缓冲区 | 有 | 无 |
| 实时性 | 弱 | 强 |
| 节点关系 | 多对多 | 一对多（一个Server）|
| 使用场景 | 弱逻辑处理，多数据传输 | 强逻辑处理，少数据传输 |

[参考链接](https://blog.csdn.net/qq_28791753/article/details/144447452)