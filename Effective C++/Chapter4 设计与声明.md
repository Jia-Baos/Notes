# 设计与声明

## Item18：让接口更容易被正确使用，不易被误用

### 请记住

- 好的接口很容易被正确使用，不容易被误用。你应该在你的所有接口中努力达成这些性质；
- “促进正确使用”的办法包括接口的一致性，以及与内置类型的行为兼容；
- “阻止误用”的办法包括建立新类型、限制类型上的操作、束缚对象值，以及消除客户的资源难管理责任；
- tr1::shared_ptr 支持定制型删除器（custom deleter）。这颗防范 DLL 问题，可被用来自动解除互斥锁（mutexes；见条款14）等等。

## Item19：设计 class 犹如设计 type

### 请记住

- class 的设计就是 type 的设计。在定义一个新的 type 之前，请确定你已经考虑过本条款覆盖的所有讨论主题。

和其他面向对象的语言一样，每当设计出一个新的 class，同时也意味着生成了一个新的 type，要注意如下几点：

1. 新的 type 的对象如何生成和销毁？如何设计构造函数和析构函数？
2. 初始化和赋值的差别
3. 新的对象如果被 pass by value 意味着什么？注意，copy 构造函数决定了一个 type 的 pass by value 如何实现。
4. 什么是新 type 的“合法值”
5. 继承，注意 virtual 函数和 non-virtual 函数，尤其是在析构函数上面。
6. 什么样的操作符和函数对于新 type 是合理的？
7. 哪些标准函数应该驳回？（比如 copy 函数和 copy assignment 操作符）
8. 哪些成员是私有，哪些是公有？
9. “未声明接口”
10. 如果要实现的是一整个 type 家族，那么不应该设计一个 class，而是要设计一个新的 class template
11. 如果能依靠 derived class 就能实现目标，那么就不必大费周章设计一个新的 class

## Item20：宁以 pass-by-reference-to-const 替换 pass-by-value

### 请记住